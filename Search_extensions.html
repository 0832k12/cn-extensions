<!-- HTML代码 -->
<!DOCTYPE html>
<link rel="stylesheet" href="./assets/css/Search_extensions_style.css" />
<script type="text/javascript" src="assets/js/extensionList.js"></script>
<!-- JavaScript -->
<div class="background">
<input type="text" id="search-input" placeholder="在此输入以搜索扩展...">
<div id="search-results"></div>
<script type="module">
    const searchResultsContainer = document.querySelector('#search-results');
    searchResultsContainer.innerHTML = '输入积木关键词来搜索哦~';//若尚未搜索，则显示文本
    import scratchblocks from "./assets/js/scratchblocks.min.es.js";
    import loadTranslations from "./assets/js/translations-all-es.js";
    loadTranslations(scratchblocks);

    // 监听搜索框中的输入事件
    const searchInput = document.querySelector('#search-input');
    searchInput.addEventListener('input', () => {
    // 获取搜索条件
    const searchTerm = searchInput.value.toLowerCase();

    // 过滤数据并呈现结果
    const searchResults = extensionsList.filter(item =>
        item.toLowerCase().includes(searchTerm)
    );

    searchResultsContainer.innerHTML = '';

    if (searchResults.length === 0) {
        searchResultsContainer.textContent = '无结果';
    } else {
        searchResults.forEach(item => {
        const preElement = document.createElement('pre');
        preElement.classList.add('blocks');
        preElement.textContent = item;
        searchResultsContainer.appendChild(preElement);
        });
        scratchblocks.renderMatching('pre.blocks', { style: 'scratch3', languages: ['en', 'zh_cn'], scale: 1 });
    }
    });
</script>
</div>

</html>